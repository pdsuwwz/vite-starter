import{J as x,a7 as _,u as I,g as R,h as S,O as g,P as A,W as P,i as T,a8 as U,V as C,r as c,o as D,s as E,t as e,I as O,m as u,l as b,D as $,H as q,M as V,d as y,$ as j,a0 as z}from"./vendor.05355ea5.js";import H from"./ContainerLayout.97f50b84.js";import{_ as J,U as M}from"./index.7af96feb.js";import{T as W}from"./Translations.c50a10b3.js";import"./lodash.6be925e0.js";const B=x({name:"UserAccountLogin",components:{UserAccountContainerLayout:H,Promotion:_,Translations:W},setup(){const{proxy:a}=V(),d=I(),p=R(),v=S(),o=g(!0),n=g(""),t=g(""),l=A({email:"vite.admin@gmail.com",password:"123456"}),s=P(),m=T(()=>({title:s.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:o.value,size:"large"},text:s.t("login.signin"),on:{click(r){a.onSubmit(r)}}}],formConfig:[{attrs:{prop:"email",error:n.value,rules:()=>[a.getRequiredRules({trigger:"change",message:s.t("login.plsemail")}),a.getValidatorRules("","blur",{type:"email",message:s.t("login.plscurrentemail")})]},label:s.t("login.email"),prefixIcon:"user-tie",placeholder:s.t("login.plsemail")},{attrs:{prop:"password",error:t.value,rules:()=>a.getRequiredRules({trigger:"change",message:s.t("login.plspwd")})},link:{text:s.t("login.fgtpwd"),click(){}},type:"password",label:s.t("login.pwd"),prefixIcon:"lock",placeholder:s.t("login.plspwd")}]}));function i(r=!1){o.value=r}return i(!0),U(()=>{C(()=>{i(!1)})}),{isLoading:o,inputErrorEmail:n,inputErrorPassword:t,formData:l,configLogin:m,setLoading:i,onSubmit:function(r){o.value||r.validate(async w=>{if(!w)return;n.value="",t.value="",i(!0);const{error:L,data:f,msg:k}=await d.dispatch(M.getAction("login"),l);if(L)return n.value=" ",t.value=k,void i(!1);y.set("token",f.user.token),y.set("name",f.user.username),v.replace(`/${p.params.locale||""}`).then(()=>{a.$message({type:"success",message:"\u767B\u5F55\u6210\u529F"})}).catch(()=>{})})}}}}),h=a=>(j("data-v-3c9ba2c0"),a=a(),z(),a),F={class:"user-account-login"},G={class:"user-account-nav"},K={class:"nav-left"},N=h(()=>e("div",{class:"nav-logo"},null,-1)),Q=h(()=>e("div",{class:"nav-circle"},null,-1)),X={class:"nav-title"},Y={class:"nav-right"},Z={class:"user-account-body"};var na=J(B,[["render",function(a,d,p,v,o,n){const t=c("Translations"),l=c("Promotion"),s=c("el-icon"),m=c("UserAccountContainerLayout");return D(),E("div",F,[e("div",G,[e("div",K,[N,Q,e("div",X,O(a._t("base.systemTitle")),1)]),e("div",Y,[u(t)])]),e("div",Z,[u(m,q(a.configLogin,{"form-data":a.formData,onOnSubmit:a.onSubmit}),{titleIcon:b(()=>[$(` <img
          src="@/assets/images/vue.svg"
          alt=""
        > `),u(s,null,{default:b(()=>[u(l)]),_:1})]),_:1},16,["form-data","onOnSubmit"])])])}],["__scopeId","data-v-3c9ba2c0"]]);export{na as default};
