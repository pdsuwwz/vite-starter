import{_,e as x,T as A,u as R,J as S,K as T,f as m,D as U,v as I,h as q,U as C,z as D,r as c,o as E,b as P,d as s,t as z,g as u,w as y,B as O,V as j,H as b,j as V,k as $,p as B,q as H}from"./index.15e9bbe1.js";import J from"./ContainerLayout.515cdbfc.js";import{T as K}from"./Translations.1a5a3718.js";import"./lodash.51ec4125.js";const F=x({name:"UserAccountLogin",components:{UserAccountContainerLayout:J,Promotion:A,Translations:K},setup(){const{proxy:a}=$(),d=R(),p=S(),v=T(),o=m(!0),n=m(""),t=m(""),l=U({email:"vite.admin@gmail.com",password:"123456"}),e=I(),g=q(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:o.value,size:"large"},text:e.t("login.signin"),on:{click(r){a.onSubmit(r)}}}],formConfig:[{attrs:{prop:"email",error:n.value,rules:()=>[a.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),a.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]},label:e.t("login.email"),prefixIcon:"user-tie",placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:t.value,rules:()=>a.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})},link:{text:e.t("login.fgtpwd"),click(){}},type:"password",label:e.t("login.pwd"),prefixIcon:"lock",placeholder:e.t("login.plspwd")}]}));function i(r=!1){o.value=r}return i(!0),C(()=>{D(()=>{i(!1)})}),{isLoading:o,inputErrorEmail:n,inputErrorPassword:t,formData:l,configLogin:g,setLoading:i,onSubmit:function(r){o.value||r.validate(async w=>{if(!w)return;n.value="",t.value="",i(!0);const{error:k,data:f,msg:L}=await d.dispatch(j.getAction("login"),l);if(k)return n.value=" ",t.value=L,void i(!1);b.set("token",f.user.token),b.set("name",f.user.username),v.replace(`/${p.params.locale||""}`).then(()=>{a.$message({type:"success",message:"\u767B\u5F55\u6210\u529F"})}).catch(()=>{})})}}}}),h=a=>(B("data-v-fa3fa911"),a=a(),H(),a),G={class:"user-account-login"},M={class:"user-account-nav"},N={class:"nav-left"},Q=h(()=>s("div",{class:"nav-logo"},null,-1)),W=h(()=>s("div",{class:"nav-circle"},null,-1)),X={class:"nav-title"},Y={class:"nav-right"},Z={class:"user-account-body"},oa=_(F,[["render",function(a,d,p,v,o,n){const t=c("Translations"),l=c("Promotion"),e=c("el-icon"),g=c("UserAccountContainerLayout");return E(),P("div",G,[s("div",M,[s("div",N,[Q,W,s("div",X,z(a._t("base.systemTitle")),1)]),s("div",Y,[u(t)])]),s("div",Z,[u(g,O(a.configLogin,{"form-data":a.formData,onOnSubmit:a.onSubmit}),{titleIcon:y(()=>[V(` <img
          src="@/assets/images/vue.svg"
          alt=""
        > `),u(e,null,{default:y(()=>[u(l)]),_:1})]),_:1},16,["form-data","onOnSubmit"])])])}],["__scopeId","data-v-fa3fa911"],["__file","/home/runner/work/vite-starter/vite-starter/src/modules/UserAccount/pages/login.vue"]]);export{oa as default};
